Change 2385 on 2002/04/11 by nick@bactrian

	Keep tix's argument order but use our GetStyleTable() scheme.

Change 2384 on 2002/04/11 by nick@bactrian

	Raw merge of tix-8.1.3

Change 2382 on 2002/04/10 by nick@nick-w2k

	Win32-isms part 1 of who can guess...

Change 2381 on 2002/04/09 by nick@bactrian

	Aliases for Dan's current Encode module

Change 2380 on 2002/04/09 by nick@bactrian

	tkGrid gross issues

Change 2379 on 2002/04/09 by nick@dromedary

	Experimental tweak to UnixFont and test sanity

Change 2378 on 2002/04/05 by nick@dromedary

	Fix after (needed more type emulation)

Change 2376 on 2002/04/05 by nick@dromedary

	Some sanity in font handling

Change 2375 on 2002/04/05 by nick@dromedary

	Use flags forms of to/from UTF-8 (5.7+) and enable tolerance.

Change 2374 on 2002/04/04 by nick@dromedary

	Start some serious Unicode testing

Change 2373 on 2002/04/04 by nick@dromedary

	Avoid skipping -format which Tcl/Tk has "parsed" long hand...

Change 2372 on 2002/04/04 by nick@dromedary

	basic_demo (tweaked) runs without core dumps.
	All but t/fbox.t pass.
	Needed to fix UnixWm to cope with images of zero size (not allocate Pixmap
	but still free Image).
	Tk::Font is interfering with Tcl_Obj fonts. For now just caches Tk_font
	and avoids freeing it as it does not have a legitimate ref to it.

Change 2371 on 2002/04/04 by nick@dromedary

	Fixup list returns

Change 2370 on 2002/04/04 by nick@dromedary

	Avoid warning for malloc leak - breaks tests
	#undef JOIN (threads) collides with tcl.h

Change 2369 on 2002/04/04 by nick@dromedary

	Integrate fileevent recursion fix from Tk800
	Integrate .pm changes from Tk800

Change 2368 on 2002/04/04 by nick@dromedary

	Fake more Tcl_Obj type stuff

Change 2366 on 2002/04/04 by nick@dromedary

	t/create.t runs without core-dumps.
	Still an issue with OptionMenu -options.

Change 2365 on 2002/04/01 by nick@dromedary

	'tiny' loads and runs

Change 2364 on 2002/04/01 by nick@dromedary

	Tk.so loads (still core dumps but hey its a start...)

Change 2363 on 2002/04/01 by nick@dromedary

	pTk sub-dir compiles

Change 2362 on 2002/03/31 by nick@bactrian

	Missed files

Change 2361 on 2002/03/31 by nick@bactrian

	Porting part1 of N (move process to faster machine)

Change 2358 on 2002/03/17 by nick@bactrian

	Integrate tcl/tk 8.4a3

Change 2353 on 2002/03/16 by nick@bactrian

	Integrate tcl8.3.4 and tk8.3.4

Change 2352 on 2002/03/16 by nick@bactrian

	Remove iconimage to aid merge

Change 2351 on 2002/03/16 by nick@bactrian

	Wtitepsace normalize

Change 2225 on 2001/05/22 by nick@dromedary

	Integrate perl code from Tk800.023+

Change 2172 on 2001/04/07 by nick@dromedary

	Minor iso-10646-1 speedup

Change 2171 on 2001/04/07 by nick@dromedary

	Integrate PerlIO fix

Change 2166 on 2001/04/04 by nick@bactrian

	Tweak for warning-less build (-Werror) against
	current XFree86's Xlib.h

Change 2165 on 2001/04/04 by nick@bactrian

	Integrate changes made to Tk8 branch

Change 2162 on 2001/03/29 by nick@dromedary

	Perl5.7.* tolerance.

Change 2160 on 2001/03/28 by nick@dromedary

	Integrate MULTIPLICTY tweak from Tk800.

Change 2112 on 2001/01/27 by nick@dromedary

	Avoid utf8-isms on old perls.

Change 2106 on 2001/01/01 by nick@dromedary

	Various utf8 fixes.

Change 2103 on 2000/12/12 by nick@pluto

	Obey latest utf8_to_uv prototype

Change 2102 on 2000/12/12 by nick@pluto

	Integrate perlio co-existance issue

Change 2097 on 2000/11/02 by nick@pluto

	Honour hidden-ness in PostScript.

Change 2095 on 2000/11/02 by nick@pluto

	Do gsave/grestore in DrawText PostScript - else its translate
	messes other drawing ops (at least when called via a group).

Change 2093 on 2000/10/30 by nick@pluto

	(Failed) attempt to localize failing error propagation.

Change 2091 on 2000/10/26 by nick@pluto

	Avoid using ST(0) as the scratch variable in Tk::Callback::Call
	XS code - issue if stack moves pushing the args.

Change 2089 on 2000/10/25 by nick@pluto

	Text xview/yview were not returning lists, hidden by implcit split.

Change 2088 on 2000/10/25 by nick@pluto

	When returning Tcl result to perl only call Tcl_ListObjGetElements
	if value is already an array ref. Also if value is not SvOK do
	not return any elements (ListObjGetElements did that for us
	but now we don't call it). Otherwise things like TextUndo::Save
	which do
	  print FILE $t->get(...);
	"split" the text line and we loose "\n" and other whitespace.

Change 2087 on 2000/10/19 by nick@pluto

	Call update commands when item redrawn via group.

Change 2086 on 2000/10/19 by nick@pluto

	Ignore group issues in Tk_ItemState() or lines etc. think
	they are hidden and set null bbox, and groups bbox is then
	garbage.

Change 2085 on 2000/10/19 by nick@pluto

	Allow local $Tk::LangDebug to control debug hook.

Change 2083 on 2000/10/19 by nick@pluto

	Avoid re-draw everything approach when a sub item of a group
	needs to be redrawn. Instead have new flag NEEDS_DISPLAY which
	we set on enclosing group(s).
	Also defer calling updateCmd till end of redraw to avoid issues
	with recusring.

Change 2082 on 2000/10/18 by nick@pluto

	Allow $canvas->move regardless of group-ness (like ->coord).

Change 2078 on 2000/10/11 by nick@pluto

	Sort out merge

Change 2077 on 2000/10/11 by nick@pluto

	Merge Tk800.*

Change 2076 on 2000/10/11 by nick@pluto

	Implement pick-through on canvas groups with -state => 'active'

Change 2074 on 2000/10/08 by nick@bactrian

	Reinstate iso8859-1 with bleadperl.

Change 2073 on 2000/10/08 by nick@bactrian

	Tweaks for AIX build

Change 2072 on 2000/10/07 by nick@bactrian

	Exclude loadables Text, Canvas, ... from Tk.so by avoiding mentioning them
	in tkWindow.c, while still passing extra info from "commands" table.

Change 2071 on 2000/10/07 by nick@bactrian

	Reinstate generic -class processing

Change 2070 on 2000/10/07 by nick@bactrian

	Add a VERSION

Change 2069 on 2000/10/07 by nick@bactrian

	More MANIFEST gotcha-s

Change 2068 on 2000/10/07 by nick@pluto

	Add Dummy Encode for perl5.005

Change 2067 on 2000/10/07 by nick@bactrian

	Update MANIFEST.SKIP.PL to use pTk.inc and pTk.exc files rather
	than blindly excluding everything which also exists under mTk.

Change 2066 on 2000/10/06 by nick@pluto

	Fix use of alwaysRedraw

Change 2064 on 2000/10/06 by nick@pluto

	Return bbox as a list

Change 2061 on 2000/10/05 by nick@pluto

	Fix Arc configure.

Change 2057 on 2000/10/04 by nick@pluto

	Play safe in DuplicateObj

Change 2054 on 2000/10/04 by nick@pluto

	Canvas does not really have bbox proc anymore.

Change 2053 on 2000/10/04 by nick@pluto

	Loose degenerate IntResults with one non-appened value.

Change 2050 on 2000/10/03 by nick@pluto

	workround - don't force list on AppendElement till 2nd one,
	likewise in IntResults. Fix append-ness in HList use of latter.
	Listbox should be fixed to return IntObj-s fror CURSELN

Change 2048 on 2000/10/03 by nick@bactrian

	Use perl_utf8_to_uv for now.

Change 2047 on 2000/10/03 by nick@pluto

	Remove debug from Optionmenu.
	Allow more time for FBox, and change ->after to avoid
	error after destroy in case time is not enough.

Change 2046 on 2000/10/03 by nick@pluto

	Make FBox and Optionmenu work together.

Change 2045 on 2000/10/03 by nick@pluto

	Builds under perl5.005_03 again with dummy "unicode/iso8859-1".

Change 2044 on 2000/10/02 by nick@pluto

	Add a Unicode demo

Change 2043 on 2000/10/02 by nick@pluto

	Perl-based encode seems to work at last.

Change 2042 on 2000/10/02 by nick@pluto

	Encoding files

Change 2041 on 2000/10/01 by nick@bactrian

	Avoid "Assuming require" style AUTOLOAD for class methods,
	This avoids problems with utf8 'IsUpper' stuff.

Change 2040 on 2000/10/01 by nick@bactrian

	Encoding using calls to perl objects.

Change 2039 on 2000/10/01 by nick@bactrian

	Our headers in case we ever use it

Change 2038 on 2000/10/01 by nick@bactrian

	Fail in the expected manner on out-of-range chars.
	Tweak UnixFont to only read in pages of 256 so that iso-8859-1 does
	not ask for 0x200..0x3FF by default.

Change 2037 on 2000/09/30 by nick@bactrian

	Dummy iso-8859-1 decode.

Change 2036 on 2000/09/30 by nick@bactrian

	In theory we now always expect hi-bits to/from Tcl_Xxxxx/Tk_Xxxxx to mean UTF8.
	Tests still pass...

Change 2035 on 2000/09/30 by nick@bactrian

	Loose dummy.dir stuff

Change 2034 on 2000/09/30 by nick@bactrian

	Tar file writing tweaks.

Change 2033 on 2000/09/30 by nick@bactrian

	Copyright dates

Change 2032 on 2000/09/30 by nick@bactrian

	Auto VERSION

Change 2031 on 2000/09/30 by nick@bactrian

	Avoid 'bool' which we have undef'ed

Change 2030 on 2000/09/30 by nick@bactrian

	Fix random memory corruption due to mis-rememebring how Compatibility
	wrapper worked.

Change 2029 on 2000/09/30 by nick@bactrian

	MANIFEST tidy up

Change 2028 on 2000/09/29 by nick@pluto

	Map Tcl's UTF8 stuff onto perl's - ugh.

Change 2027 on 2000/09/29 by nick@pluto

	perl5.005_03 build.
	Fix result restore issue with SelectionGet

Change 2026 on 2000/09/29 by nick@pluto

	Debug hooks for magic

Change 2025 on 2000/09/29 by nick@pluto

	Correct string compare for menu names.

Change 2024 on 2000/09/29 by nick@pluto

	Another backtrace

Change 2023 on 2000/09/29 by nick@pluto

	Re-implement our (pTk's) "tidy" menu bars.

Change 2022 on 2000/09/29 by nick@pluto

	Copy in just-like-Tcl tkUnixMenu.c till we can figure
	out why merged version does not work.
	When menu button destroys MainWindow tail end of bind
	cannot reset result in non-existant interp.

Change 2021 on 2000/09/29 by nick@pluto

	Move wrappers on common dialogs to perl code.

Change 2020 on 2000/09/28 by nick@pluto

	Flesh out stub Tk_Tile routines so t/dash.t passes.

Change 2019 on 2000/09/28 by nick@pluto

	Reinstate returning only element of list as scalar value.

Change 2018 on 2000/09/28 by nick@pluto

	Major overhaul of Result handling
	 - Result is always a real scalar
	 - SetObjResult does what it says.
	 - GetObjResult gets current or new scalar.
	 - ResetResult free's the scalar so GetObjResult creates new.
	 - perl->Tcl makes copies to avoid pads, temp, and other weird things
	 - Tcl->perl calls ListObjGetElements in array context, but
	   always makes mortal copies.
	 - Other "result-ish" things now implemented in Tcl-ish manner
	   using above.

Change 2017 on 2000/09/28 by nick@pluto

	configure ordering issues

Change 2016 on 2000/09/28 by nick@pluto

	Loose obsolete Lang*() decls

Change 2015 on 2000/09/28 by nick@pluto

	Use Tcl_Obj * scheme rather than LangSaveResult().

Change 2014 on 2000/09/28 by nick@pluto

	Re-instate Tk::Derived in Tk::Menu's ISA (though why we did
	that is unclear).

Change 2013 on 2000/09/28 by nick@pluto

	Use Tcl_GetInt rather than coined Lang_GetStrInt for original
	Tcl behaviour.

Change 2012 on 2000/09/28 by nick@pluto

	Make Tcl_ListObjReplace match REFCNT assumptions in tkListbox.c

Change 2011 on 2000/09/28 by nick@pluto

	-menu is a TK_OPTION_WINDOW

Change 2010 on 2000/09/28 by nick@pluto

	Propagate wantarray-ness

Change 2009 on 2000/09/28 by nick@pluto

	Make Tcl_SetObjResult of element match REFCNT assumptions
	used elsewhere.

Change 2008 on 2000/09/28 by nick@pluto

	Use "Normal" Tcl style way of accessing result.

Change 2007 on 2000/09/27 by nick@pluto

	Re-instate options for -tile and -disabled tile in Canvas.

Change 2006 on 2000/09/27 by nick@pluto

	Entry not saving commands as Tcl_Obj
	Text's embedded widget forcing stringify of return widget.

Change 2005 on 2000/09/27 by nick@pluto

	Two tweaks : re-instate ListBox returning list for bbox.
	Auto-de-ref in LangTraceVar as we don't have special Configure
	support (yet?) for variables.
	Mostly working "make test"

Change 2004 on 2000/09/27 by nick@pluto

	More save Tcl_Obj issues in Entry and Scale
	Do not require blessing of callbacks.

Change 2003 on 2000/09/27 by nick@pluto

	Possible overkill using perl's magic vtable scheme
	to call Tcl's freeInternalRep.
	 - Maybe 'get' should call update string ?
	 - Maybe 'set' should not de-type the TclObj?

Change 2002 on 2000/09/27 by nick@pluto

	Use SvSetMagicSV() rather than sv_setsv() everywhere - we have more
	magicals about now...

Change 2001 on 2000/09/27 by nick@pluto

	Tcl_Obj not 'Var' in .h file

Change 2000 on 2000/09/27 by nick@pluto

	Make a copy of args for _LANG objv has pad, temps and other
	stuff.

Change 1999 on 2000/09/27 by nick@pluto

	Save Tcl_Obj for varName

Change 1998 on 2000/09/26 by nick@bactrian

	Copy data in convert to external!

Change 1997 on 2000/09/26 by nick@bactrian

	Update Xlib vtable to include XRectInRegion
	Copy Tcl's Tcl_StringMatch (glob-ish) to encGlue.c (glob-ish match used by fonts)

Change 1996 on 2000/09/26 by nick@pluto

	Allow refs in new style 'Var' glue.

Change 1995 on 2000/09/26 by nick@pluto

	Menus create and clone approximately correctly.
	Menubar display still a little suspect, and have removed
	Tk::Derived from Menu's ISA till we resolve -background => undef
	issue.

Change 1994 on 2000/09/26 by nick@pluto

	Loose "is dummy" warnings
	Fix gross REFCNT issue in new tkConfig code.

Change 1993 on 2000/09/26 by nick@bactrian

	Tcl_GetCommandInfo returns boolean (and used on widgets).

Change 1992 on 2000/09/25 by nick@pluto

	Script to test widgets by name

Change 1991 on 2000/09/25 by nick@pluto

	Honour clientData for 'menu' and such as passed by
	code in tkWindow.c or where-ever

Change 1990 on 2000/09/25 by nick@pluto

	Save the Tcl_Obj's for width/height

Change 1989 on 2000/09/25 by nick@pluto

	Restore list-ness of Photo and ->formats sub-method.

Change 1988 on 2000/09/25 by nick@pluto

	Missed files

Change 1987 on 2000/09/25 by nick@pluto

	Image objects from strings and channel binary via encoding.

Change 1986 on 2000/09/25 by nick@pluto

	Diags in Tk::Widget::new.
	Make Tcl_GetCommandInfo() work for loaded commands.

Change 1985 on 2000/09/25 by nick@pluto

	Use 'AllocFromObj' not 'GetFromObj' for Font and Cursor.

Change 1984 on 2000/09/25 by nick@pluto

	Better dummy encode routines

Change 1983 on 2000/09/25 by nick@pluto

	Sort out vtables so all extns pass t/Require.t

Change 1982 on 2000/09/25 by nick@pluto

	Basic button works. But:
	 - no universal '-class' for now
	 - Button's error recovery scheme shows major snag with current
	   ResultAv() scheme used by Tcl_GetObjResult.

Change 1981 on 2000/09/25 by nick@pluto

	Extra arg for client data info

Change 1980 on 2000/09/24 by nick@bactrian

	Created and configuring a button.

Change 1979 on 2000/09/24 by nick@bactrian

	TK_CONFIG_OBJS and objClientData issues - MainWindow created.

Change 1977 on 2000/09/24 by nick@bactrian

	Allow Tcl_CreateObjCmd to build widgets by looking up tkwin.

Change 1976 on 2000/09/24 by nick@bactrian

	Our coinage 'LangString' replaced everywhere with Tcl's Tcl_GetString().

Change 1975 on 2000/09/24 by nick@bactrian

	Stubs for rest of threadish things that should live here.

Change 1974 on 2000/09/24 by nick@bactrian

	Stubs update - avoid Tcl_Encoding as non-opaque struct.

Change 1973 on 2000/09/23 by nick@bactrian

	Stubs or best guesses at imlementations of all unresolved refs.

Change 1971 on 2000/09/21 by nick@pluto

	Various vtable things.
	A few of new stubs needed.

Change 1970 on 2000/09/21 by nick@pluto

	Auto fossick with tkEvent.h and *.exc to represent
	what actually is in Event/*.o

Change 1969 on 2000/09/21 by nick@pluto

	Auto-generated form

Change 1968 on 2000/09/20 by nick@bactrian

	Event sanity

Change 1967 on 2000/09/20 by nick@pluto

	Add the prune utility to the depot

Change 1966 on 2000/09/20 by nick@pluto

	Prune vtables to things that are actually called

Change 1965 on 2000/09/20 by nick@pluto

	Map Tcl's stub table hacking on to our vtable hacking.

Change 1964 on 2000/09/20 by nick@pluto

	All sub-extensions build too.

Change 1963 on 2000/09/20 by nick@pluto

	Tk.so will build (no chance of loading) with vtables back on

Change 1962 on 2000/09/20 by nick@bactrian

	Start on xxGlue code - avoid conflict with Tcl's Var, CONST changes

Change 1961 on 2000/09/19 by nick@pluto

	Avoid only-used-once func

Change 1960 on 2000/09/19 by nick@pluto

	Setup for findcore etc. to probe for things we need to glue.

Change 1959 on 2000/09/19 by nick@pluto

	All _compiles_ (now will it link?)

Change 1957 on 2000/09/18 by nick@bactrian

	Sort out merge of pTk's wrap and help menu tweaks.

Change 1956 on 2000/09/18 by nick@bactrian

	Almost there - just some obscure Unix port issues left

Change 1955 on 2000/09/18 by nick@pluto

	More tidying

Change 1954 on 2000/09/18 by nick@pluto

	Convert Tk_Tile stuff to dummies till we can decipher
	what inherited BLT code was trying to do.

Change 1953 on 2000/09/18 by nick@pluto

	More fixups

Change 1952 on 2000/09/18 by nick@pluto

	Mangled {} nesting

Change 1951 on 2000/09/18 by nick@pluto

	Tcl_GetVar/Tcl_SetVar use Tcl_Obj forms.

Change 1950 on 2000/09/18 by nick@pluto

	Tcl_TraceVar muddle worked round

Change 1949 on 2000/09/18 by nick@pluto

	Various fixups

Change 1948 on 2000/09/18 by nick@pluto

	Fixup all the Photo formats to use new arg ordering.

Change 1947 on 2000/09/18 by nick@pluto

	Abstraction for internals access to Tcl_Obj

Change 1946 on 2000/09/17 by nick@bactrian

	Make tck.h's structs opaque again

Change 1945 on 2000/09/17 by nick@bactrian

	Round-the-houses merge of pTk's tkConfig.c into tkOldConfig.c

Change 1944 on 2000/09/17 by nick@bactrian

	Edits pre abortive merge idea

Change 1943 on 2000/09/17 by nick@bactrian

	Branch tcl.h and tkOldConfig.c

Change 1942 on 2000/09/16 by nick@bactrian

	Resolve / merge the files using new TK_OPTION stuff - mostly accept
	Tcl's version for now.

Change 1941 on 2000/09/16 by nick@bactrian

	Rough 1st resolve/merge of most of tk8.3.2

Change 1940 on 2000/09/12 by nick@bactrian

	Raw merge of tk8.3.2 docs

Change 1930 on 2000/09/12 by nick@bactrian

	White space our side

Change 1926 on 2000/09/12 by nick@bactrian

	Merge Tk800.023

Change 1862 on 2000/05/13 by nick@bactrian

	Integrate Tk800.022

Change 1759 on 2000/03/16 by nick@bactrian

	resolve -ay as basis for TclTkutf8 merges

Change 1758 on 2000/03/16 by nick@bactrian

	Auto VERSION update to 4.*

Change 1757 on 2000/03/16 by nick@bactrian

	Populate TKutf8 from Tk8

